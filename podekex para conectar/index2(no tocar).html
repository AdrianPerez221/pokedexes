<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokédex Clásica Completa</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=VT323&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
body {
    font-family: 'VT323', 'Courier New', monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: #5a5a5a;
    margin: 0;
    perspective: 1500px;
}

.pokedex-body {
    background: #dc0a2d;
    width: 400px;
    height: 750px;
    border-radius: 15px;
    padding: 20px;
    position: relative;
    box-shadow: 
        0 0 20px rgba(0,0,0,0.5),
        inset 0 -10px 30px rgba(0,0,0,0.2);
    border: 3px solid #b30720;
}

.top-hinge {
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 20px;
    background: #333;
    border-radius: 5px;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
}

.screen-housing {
    background: #2d2d2d;
    padding: 15px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 
        inset 0 0 15px rgba(0,0,0,0.5),
        0 5px 10px rgba(0,0,0,0.3);
    border: 2px solid #1a1a1a;
}

.main-screen {
    background: #8bac0f;
    height: 250px;
    border-radius: 5px;
    padding: 10px;
    position: relative;
    box-shadow: inset 0 0 20px #6d8610;
    border: 3px solid #0f380f;
}

.crt-effect {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 1;
    pointer-events: none;
    background: linear-gradient(rgba(255, 255, 255, 0.1) 50%, transparent 50%);
    background-size: 100% 4px;
    animation: scanline 0.5s linear infinite;
}

@keyframes scanline {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: 0 100%;
    }
}

.pokemon-sprite-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 10px 0;
    height: 120px;
}

.speaker-grille {
    height: 20px;
    background: #3a3a3a;
    border-radius: 3px;
    margin: 15px 0;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
    position: relative;
}

.speaker-line {
    position: absolute;
    height: 2px;
    background: #555;
    width: 90%;
    left: 5%;
}

.control-panel {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 20px 0;
}

.number-pad {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    background: #333;
    padding: 10px;
    border-radius: 10px;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
}

.num-button {
    background: #444;
    border: 2px solid #222;
    color: #8bac0f;
    padding: 10px;
    font-family: 'VT323', monospace;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.1s ease;
    border-radius: 5px;
}

.num-button:hover {
    background: #555;
    transform: scale(1.05);
    box-shadow: 0 0 5px #8bac0f;
}

.d-pad {
    position: relative;
    width: 120px;
    height: 120px;
    margin: 0 auto;
}

.d-pad-btn {
    position: absolute;
    width: 40px;
    height: 40px;
    background: #444;
    border: 2px solid #222;
    cursor: pointer;
    transition: all 0.1s ease;
}

.d-pad-btn:hover {
    background: #555;
}

.d-up { top: -3px; left: 40px; border-radius: 8px 8px 0 0; }
.d-down { bottom: -7px; left: 40px; border-radius: 0 0 8px 8px; }
.d-left { top: 40px; left: -4px; border-radius: 8px 0 0 8px; }
.d-right { top: 40px; right: -7px; border-radius: 0 8px 8px 0; }
.d-center {
    position: absolute;
    width: 40px;
    height: 40px;
    top: 40px;
    left: 40px;
    background: #333;
    border: 2px solid #222;
    border-radius: 50%;
}

.info-display {
    background: #0f380f;
    color: #8bac0f;
    padding: 10px;
    border-radius: 5px;
    font-family: 'VT323', monospace;
    border: 2px solid #0a280a;
    height: calc(100% - 24px);
    display: flex;
    flex-direction: column;
}

.status-bar {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 18px;
}

.types-container {
    display: flex;
    gap: 5px;
    justify-content: center;
    margin: 5px 0;
}

.type-tag {
    display: inline-block;
    padding: 2px 10px;
    border-radius: 3px;
    color: white;
    font-size: 14px;
    border: 1px solid #222;
    text-transform: uppercase;
    font-weight: bold;
    text-shadow: 1px 1px 1px rgba(0,0,0,0.5);
}

.number-display {
    background: #0f380f;
    color: #8bac0f;
    padding: 8px;
    margin-bottom: 10px;
    border: 2px solid #0a280a;
    border-radius: 5px;
    font-family: 'VT323', monospace;
    font-size: 20px;
    letter-spacing: 2px;
    text-align: center;
    grid-column: 1 / -1;
}

input {
    background: #0f380f;
    border: 2px solid #0a280a;
    color: #8bac0f;
    padding: 8px;
    font-family: 'VT323', monospace;
    width: 95%;
    margin-top: 10px;
    font-size: 16px;
    text-align: center;
}

input:focus {
    outline: none;
    border-color: #8bac0f;
    box-shadow: 0 0 10px #8bac0f;
}

.pokemon-image {
    image-rendering: pixelated;
    width: 120px;
    height: 120px;
    margin: 0 auto;
    display: block;
    background: transparent;
    padding: 5px;
    border-radius: 3px;
    filter: drop-shadow(2px 2px 0 #0a280a);
}

.pokemon-stats {
    font-size: 16px;
    text-align: center;
    margin-top: auto;
}

.search-container {
    margin: 15px 0;
    position: relative;
}

.action-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-top: 20px;
}

.action-button {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: 3px solid #222;
    cursor: pointer;
    box-shadow: 
        inset 0 -3px 5px rgba(0,0,0,0.3),
        0 3px 5px rgba(0,0,0,0.3);
    transition: all 0.1s ease;
}

.action-button:hover {
    transform: scale(1.05);
}

.gray-button {
    background: #808080;
    border-color: #666;
}

.red-button {
    background: #c00927;
    border-color: #b30720;
}

.d-pad-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

.pokedex-container {
    display: flex;
    gap: 30px;
    justify-content: center;
    align-items: flex-start;
}

.filter-panel {
    background: #dc0a2d;
    width: 300px;
    height: 750px;
    padding: 20px;
    border-radius: 15px;
    border: 3px solid #b30720;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    position: relative;
}

.filter-screen {
    background: #8bac0f;
    border: 3px solid #0f380f;
    border-radius: 5px;
    padding: 15px;
    margin: 15px 0;
    position: relative;
    height: 600px;
    overflow-y: auto;
}

.type-filters {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
}

.type-button {
    padding: 6px 10px;
    border: none;
    border-radius: 12px;
    font-family: 'VT323', monospace;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-transform: uppercase;
    color: white;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

.type-button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 8px rgba(255,255,255,0.3);
}

.type-button.selected {
    box-shadow: 0 0 10px white;
    transform: scale(1.1);
}

/* Colores para cada tipo Pokémon */
.normal { background: #A8A878; }
.fire { background: #F08030; }
.water { background: #6890F0; }
.electric { background: #F8D030; color: black; }
.grass { background: #78C850; }
.ice { background: #98D8D8; }
.fighting { background: #C03028; }
.poison { background: #A040A0; }
.ground { background: #E0C068; }
.flying { background: #A890F0; }
.psychic { background: #F85888; }
.bug { background: #A8B820; }
.rock { background: #B8A038; }
.ghost { background: #705898; }
.dragon { background: #7038F8; }
.dark { background: #705848; }
.steel { background: #B8B8D0; }
.fairy { background: #EE99AC; }

.filter-title {
    color: #0f380f;
    text-align: center;
    margin: 10px 0;
    font-size: 1.4em;
    text-shadow: 1px 1px 0px rgba(255,255,255,0.3);
    font-weight: bold;
}

.filter-controls {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 15px;
}

.filter-button {
    padding: 8px 20px;
    border: 2px solid #222;
    border-radius: 20px;
    font-family: 'VT323', monospace;
    cursor: pointer;
    background: #444;
    color: #8bac0f;
    font-size: 16px;
}

.filter-button:hover {
    background: #555;
    transform: scale(1.05);
}

.pokemon-list-container {
    margin-top: 20px;
    background: #0f380f;
    border: 2px solid #0a280a;
    border-radius: 5px;
    padding: 10px;
    height: 250px;
    overflow-y: auto;
}

.pokemon-list {
    list-style-type: none;
    padding: 0;
    margin: 0;
}

.pokemon-list-item {
    padding: 5px;
    border-bottom: 1px solid #1a5a1a;
    cursor: pointer;
    color: #8bac0f;
    display: flex;
    align-items: center;
}

.pokemon-list-item:hover {
    background: #195919;
}

.pokemon-list-item img {
    width: 30px;
    height: 30px;
    margin-right: 10px;
}

.loading {
    text-align: center;
    color: #8bac0f;
    font-size: 18px;
    padding: 20px;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

.description-section {
    margin-top: 10px;
    background: #0a280a;
    padding: 5px;
    border-radius: 3px;
    font-size: 14px;
    height: 45px;
    overflow-y: auto;
    text-align: center;
}

.generation-badge {
    display: inline-block;
    background: #0a280a;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 12px;
    margin-top: 5px;
}

.error-message {
    color: #ff5555;
    text-align: center;
    font-size: 14px;
    margin-top: 10px;
}
/* Estilos para el efecto flip - AÑADIR AL CSS */
.flip-container {
    perspective: 1000px;
    width: 100%;
    height: 100%;
}

.flipper {
    transition: 0.8s;
    transform-style: preserve-3d;
    position: relative;
    width: 100%;
    height: 100%;
}

.flip-container.flipped .flipper {
    transform: rotateY(180deg);
}

.front, .back {
    backface-visibility: hidden;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.back {
    transform: rotateY(180deg);
    background: #dc0a2d;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 
        0 0 20px rgba(0,0,0,0.5),
        inset 0 -10px 30px rgba(0,0,0,0.2);
}

/* Estilos para las pestañas de información - AÑADIR AL CSS */
.tabs-container {
    margin-top: 20px;
}

.tabs-header {
    display: flex;
    justify-content: space-around;
    margin-bottom: 10px;
}

.tab-button {
    background: #444;
    color: #8bac0f;
    border: 2px solid #0f380f;
    border-radius: 8px;
    padding: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 80px;
}

.tab-button:hover, .tab-button.active {
    background: #555;
    box-shadow: 0 0 10px #8bac0f;
}

.tab-button .icon {
    font-size: 24px;
    margin-bottom: 5px;
}

.tab-content {
    background: #8bac0f;
    border: 3px solid #0f380f;
    border-radius: 10px;
    padding: 15px;
    height: 320px;
    overflow-y: auto;
    box-shadow: inset 0 0 10px #0f380f;
}

.tab-panel {
    display: none;
}

.tab-panel.active {
    display: block;
    animation: fadeIn 0.5s;
}

.back-pokemon-name {
    background: #0f380f;
    color: #8bac0f;
    padding: 10px;
    text-align: center;
    font-size: 24px;
    border-radius: 10px;
    margin-bottom: 15px;
    border: 2px solid #0a280a;
}

.flip-button {
    background: #444;
    color: #8bac0f;
    border: 2px solid #0a280a;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
    cursor: pointer;
    position: absolute;
    bottom: 20px;
    right: 20px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    transition: all 0.2s ease;
}

.flip-button:hover {
    background: #555;
    transform: scale(1.1);
}

/* Estilos específicos para pestañas */
.stat-bar {
    height: 15px;
    background: #0f380f;
    margin-bottom: 8px;
    border-radius: 3px;
    position: relative;
}

.stat-fill {
    height: 100%;
    background: #2cda5c;
    border-radius: 3px;
}

.moves-table {
    width: 100%;
    border-collapse: collapse;
}

.moves-table th, .moves-table td {
    padding: 5px;
    text-align: left;
    border-bottom: 1px solid #0f380f;
}

.evolution-chain {
    display: flex;
    justify-content: space-around;
    align-items: center;
    margin-top: 20px;
}

.evolution-item {
    text-align: center;
}

.evolution-image {
    width: 80px;
    height: 80px;
    margin: 0 auto;
    display: block;
    image-rendering: pixelated;
}

.evolution-arrow {
    font-size: 24px;
}

/* Modificaciones para voltear solo la pantalla pequeña */
.screen-flip-container {
    perspective: 1000px;
    width: 100%;
    height: 250px; /* Ajustar a la altura de la pantalla principal */
    position: relative;
}

.screen-flipper {
    transition: 0.8s;
    transform-style: preserve-3d;
    position: relative;
    width: 100%;
    height: 100%;
}

.screen-flip-container.flipped .screen-flipper {
    transform: rotateY(180deg);
}

.screen-front, .screen-back {
    backface-visibility: hidden;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 5px;
}

.screen-back {
    transform: rotateY(180deg);
    background: #8bac0f;
    border-radius: 5px;
    overflow: hidden;
}

/* Eliminar la descripción de la pantalla frontal */
.description-section {
    display: none;
}

/* Estilos para la nueva pestaña de info con descripción */
.info-section {
    margin-top: 10px;
    font-size: 16px;
    line-height: 1.4;
}

.pokemon-description {
    background: #0a280a;
    padding: 10px;
    border-radius: 5px;
    color: #8bac0f;
    margin-bottom: 15px;
}

/* Estilos para los detalles de evolución */
.evolution-details {
    font-size: 12px;
    margin-top: 5px;
    background: #0a280a;
    padding: 5px;
    border-radius: 5px;
    color: #8bac0f;
}

/* Estilos para los ataques por MT/TM */
.moves-category {
    margin-top: 15px;
}

.moves-category h4 {
    background: #0a280a;
    padding: 5px;
    border-radius: 5px;
    color: #8bac0f;
    margin-bottom: 10px;
}

/* Botón para voltear la pantalla */
.screen-flip-button {
    position: absolute;
    bottom: 5px;
    right: 5px;
    background: #444;
    color: #8bac0f;
    border: 2px solid #0a280a;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 16px;
    cursor: pointer;
    z-index: 10;
    box-shadow: 0 0 5px rgba(0,0,0,0.3);
}

.screen-flip-button:hover {
    background: #555;
    transform: scale(1.1);
}
</style>
</head>
<body>
    <div class="pokedex-container">
        <!-- Panel de Filtrado -->
        <div class="filter-panel">
            <div class="top-hinge"></div>
            <div class="screen-housing">
                <div class="filter-screen">
                    <div class="crt-effect"></div>
                    <h2 class="filter-title">FILTRO DE TIPOS</h2>
                    <div class="type-filters">
                        <button class="type-button normal" data-type="normal">Normal</button>
                        <button class="type-button fire" data-type="fire">Fuego</button>
                        <button class="type-button water" data-type="water">Agua</button>
                        <button class="type-button electric" data-type="electric">Eléctrico</button>
                        <button class="type-button grass" data-type="grass">Planta</button>
                        <button class="type-button ice" data-type="ice">Hielo</button>
                        <button class="type-button fighting" data-type="fighting">Lucha</button>
                        <button class="type-button poison" data-type="poison">Veneno</button>
                        <button class="type-button ground" data-type="ground">Tierra</button>
                        <button class="type-button flying" data-type="flying">Volador</button>
                        <button class="type-button psychic" data-type="psychic">Psíquico</button>
                        <button class="type-button bug" data-type="bug">Bicho</button>
                        <button class="type-button rock" data-type="rock">Roca</button>
                        <button class="type-button ghost" data-type="ghost">Fantasma</button>
                        <button class="type-button dragon" data-type="dragon">Dragón</button>
                        <button class="type-button dark" data-type="dark">Siniestro</button>
                        <button class="type-button steel" data-type="steel">Acero</button>
                        <button class="type-button fairy" data-type="fairy">Hada</button>
                    </div>
                    <div class="filter-controls">
                        <button class="filter-button" id="apply-filters">Aplicar</button>
                        <button class="filter-button" id="clear-filters">Limpiar</button>
                    </div>
                    <div class="pokemon-list-container">
                        <div id="loading-indicator" class="loading">Cargando...</div>
                        <ul class="pokemon-list" id="pokemon-list"></ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="pokedex-body">
            <div class="top-hinge"></div>
            
            <div class="flip-container">
                <div class="flipper">
                    <!-- Cara frontal - Diseño original -->
                    <div class="front">
                        <!-- Reemplazar la sección de la pantalla principal con esto -->
<div class="screen-housing">
    <div class="screen-flip-container">
        <div class="screen-flipper">
            <!-- Pantalla frontal -->
            <div class="screen-front main-screen">
                <div class="crt-effect"></div>
                <div class="info-display">
                    <div class="status-bar">
                        <span id="pokemon-number">#000</span>
                        <span id="pokemon-name">CARGANDO...</span>
                    </div>
                    <div class="pokemon-sprite-container">
                        <img src="" alt="Pokemon" class="pokemon-image" id="pokemon-image">
                    </div>
                    <div class="types-container" id="types-container">
                        <!-- Los tipos se insertarán dinámicamente -->
                    </div>
                    <div class="pokemon-stats" id="pokemon-stats">
                        CARGANDO DATOS...
                    </div>
                    <!-- Se elimina la descripción de aquí -->
                </div>
                <div class="screen-flip-button" id="screen-flip-button">↩️</div>
            </div>
            
            <!-- Pantalla trasera (con pestañas) -->
            <div class="screen-back">
                <div class="tab-content screen-back-content">
                    <div id="back-quick-info">
                        <h3 id="back-pokemon-name-small">POKEMON</h3>
                    </div>
                    <div class="screen-flip-button" id="screen-back-flip-button">↩️</div>
                </div>
            </div>
        </div>
    </div>
</div>
        
                        <div class="speaker-grille">
                            <div class="speaker-line" style="top: 4px;"></div>
                            <div class="speaker-line" style="top: 9px;"></div>
                            <div class="speaker-line" style="top: 14px;"></div>
                        </div>
        
                        <div class="search-container">
                            <input type="text" placeholder="INGRESAR NOMBRE O NÚMERO..." id="search-input">
                        </div>
        
                        <div class="control-panel">
                            <div class="number-pad">
                                <div class="number-display" id="input-display">000</div>
                                <button class="num-button" data-value="1">1</button>
                                <button class="num-button" data-value="2">2</button>
                                <button class="num-button" data-value="3">3</button>
                                <button class="num-button" data-value="4">4</button>
                                <button class="num-button" data-value="5">5</button>
                                <button class="num-button" data-value="6">6</button>
                                <button class="num-button" data-value="7">7</button>
                                <button class="num-button" data-value="8">8</button>
                                <button class="num-button" data-value="9">9</button>
                                <button class="num-button" data-value="clear">C</button>
                                <button class="num-button" data-value="0">0</button>
                                <button class="num-button" data-value="backspace">B</button>
                            </div>
                            
                            <div class="d-pad-container">
                                <div class="d-pad">
                                    <div class="d-pad-btn d-up" id="prev-pokemon"></div>
                                    <div class="d-pad-btn d-down" id="next-pokemon"></div>
                                    <div class="d-pad-btn d-left" id="prev-sprite"></div>
                                    <div class="d-pad-btn d-right" id="next-sprite"></div>
                                    <div class="d-center"></div>
                                </div>
                                <div class="action-buttons">
                                    <div class="action-button gray-button" id="search-button"></div>
                                    <div class="action-button red-button" id="flip-button"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Cara trasera - Información detallada -->
                    <div class="back">
                        <div class="back-pokemon-name" id="back-pokemon-name">POKEMON</div>
                        
                        <div class="tabs-container">
                            <div class="tabs-header">
                                <div class="tab-button active" data-tab="stats">
                                    <div class="icon">📊</div>
                                    <div>Stats</div>
                                </div>
                                <div class="tab-button" data-tab="moves">
                                    <div class="icon">⚡</div>
                                    <div>Ataques</div>
                                </div>
                                <div class="tab-button" data-tab="evolution">
                                    <div class="icon">🔄</div>
                                    <div>Evolución</div>
                                </div>
                                <div class="tab-button" data-tab="info">
                                    <div class="icon">📝</div>
                                    <div>Info</div>
                                </div>
                            </div>
                            
                            <div class="tab-content">
                                <!-- Panel de Estadísticas -->
                                <div class="tab-panel stats active" id="stats-panel">
                                    <h3>Estadísticas base</h3>
                                    <div id="stats-container">
                                        Cargando estadísticas...
                                    </div>
                                </div>
                                
                                <!-- Panel de Movimientos -->
                                <div class="tab-panel moves" id="moves-panel">
                                    <h3>Movimientos</h3>
                                    <div class="moves-category">
                                        <h4>Por nivel</h4>
                                        <div id="moves-level-container">
                                            Cargando movimientos...
                                        </div>
                                    </div>
                                    <div class="moves-category">
                                        <h4>Por MT/TM</h4>
                                        <div id="moves-tm-container">
                                            Cargando movimientos...
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Panel de Evolución -->
                                <div class="tab-panel evolution" id="evolution-panel">
                                    <h3>Cadena de evolución</h3>
                                    <div id="evolution-container">
                                        Cargando evoluciones...
                                    </div>
                                </div>
                                
                                <!-- Panel de Información -->
                                <div class="tab-panel info" id="info-panel">
                                    <h3>Información</h3>
                                    <div id="info-container">
                                        <div class="pokemon-description" id="pokemon-description">
                                            Cargando descripción...
                                        </div>
                                        <div class="pokemon-details">
                                            <p><strong>Altura:</strong> <span id="pokemon-height">?</span> m</p>
                                            <p><strong>Peso:</strong> <span id="pokemon-weight">?</span> kg</p>
                                            <p><strong>Habilidades:</strong> <span id="pokemon-abilities">?</span></p>
                                            <p><strong>Género:</strong> <span id="pokemon-gender">?</span></p>
                                            <p><strong>Categoría:</strong> <span id="pokemon-category">?</span></p>
                                            <p><strong>Generación:</strong> <span id="pokemon-generation">?</span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flip-button" id="back-flip-button">↩️</div>
                    </div>
                </div>
            </div>
        </div>

    <script>
        // Variables globales
        let currentPokemonId = 1;
        let currentSpriteIndex = 0;
        let allPokemon = [];
        let filteredPokemon = [];
        let selectedTypes = [];
        let currentSprites = [];
        let pokemonSpecies = {};
        
        // Mapeo de tipos en inglés a español
        const typeTranslations = {
            'normal': 'Normal',
            'fire': 'Fuego',
            'water': 'Agua',
            'electric': 'Eléctrico',
            'grass': 'Planta',
            'ice': 'Hielo',
            'fighting': 'Lucha',
            'poison': 'Veneno',
            'ground': 'Tierra',
            'flying': 'Volador',
            'psychic': 'Psíquico',
            'bug': 'Bicho',
            'rock': 'Roca',
            'ghost': 'Fantasma',
            'dragon': 'Dragón',
            'dark': 'Siniestro',
            'steel': 'Acero',
            'fairy': 'Hada'
        };

        // Elementos DOM
        const pokemonNumber = document.getElementById('pokemon-number');
        const pokemonName = document.getElementById('pokemon-name');
        const pokemonImage = document.getElementById('pokemon-image');
        const typesContainer = document.getElementById('types-container');
        const pokemonStats = document.getElementById('pokemon-stats');
        const pokemonDescription = document.getElementById('pokemon-description');
        const searchInput = document.getElementById('search-input');
        const inputDisplay = document.getElementById('input-display');
        const pokemonList = document.getElementById('pokemon-list');
        const loadingIndicator = document.getElementById('loading-indicator');
        
        // Eventos de control
        document.getElementById('prev-pokemon').addEventListener('click', () => navigatePokemon(-1));
        document.getElementById('next-pokemon').addEventListener('click', () => navigatePokemon(1));
        document.getElementById('prev-sprite').addEventListener('click', () => changeSprite(-1));
        document.getElementById('next-sprite').addEventListener('click', () => changeSprite(1));
        document.getElementById('search-button').addEventListener('click', searchPokemon);
        
        // Eventos de filtro
        document.getElementById('apply-filters').addEventListener('click', applyFilters);
        document.getElementById('clear-filters').addEventListener('click', clearFilters);
        
        // Eventos de búsqueda
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                searchPokemon();
            }
        });
        
        // Eventos del teclado numérico
        document.querySelectorAll('.num-button').forEach(button => {
            button.addEventListener('click', function() {
                const value = this.getAttribute('data-value');
                
                if (value === 'clear') {
                    inputDisplay.textContent = '000';
                } else if (value === 'backspace') {
                    let current = inputDisplay.textContent;
                    if (current.length > 0 && current !== '000') {
                        current = current.slice(0, -1);
                        if (current === '') current = '000';
                        inputDisplay.textContent = current;
                    }
                } else {
                    let current = inputDisplay.textContent;
                    if (current === '000') {
                        current = value;
                    } else if (current.length < 3) {
                        current += value;
                    }
                    inputDisplay.textContent = current;
                }
            });
        });
        
        // Eventos de tipo
        document.querySelectorAll('.type-button').forEach(button => {
            button.addEventListener('click', function() {
                this.classList.toggle('selected');
                const type = this.getAttribute('data-type');
                
                if (selectedTypes.includes(type)) {
                    selectedTypes = selectedTypes.filter(t => t !== type);
                } else {
                    selectedTypes.push(type);
                }
            });
        });
        
        // Función para cargar todos los Pokémon
        async function loadAllPokemon() {
            try {
                loadingIndicator.style.display = 'block';
                pokemonList.innerHTML = '';
                
                const response = await fetch('https://pokeapi.co/api/v2/pokemon?limit=1025');
                const data = await response.json();
                
                allPokemon = data.results.map((pokemon, index) => {
                    return {
                        id: index + 1,
                        name: pokemon.name,
                        url: pokemon.url
                    };
                });
                
                filteredPokemon = [...allPokemon];
                displayPokemonList(filteredPokemon);
                
                // Cargar el primer Pokémon
                loadPokemonData(1);
                
            } catch (error) {
                console.error('Error al cargar la lista de Pokémon:', error);
                loadingIndicator.innerHTML = 'Error al cargar datos. Intenta de nuevo.';
            }
        }
        
        // Función para mostrar la lista de Pokémon
        function displayPokemonList(pokemonList) {
            const listElement = document.getElementById('pokemon-list');
            listElement.innerHTML = '';
            loadingIndicator.style.display = 'none';
            
            pokemonList.forEach(pokemon => {
                const listItem = document.createElement('li');
                listItem.className = 'pokemon-list-item';
                
                const pokemonId = String(pokemon.id).padStart(3, '0');
                
                listItem.innerHTML = `
                    <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png" alt="${pokemon.name}">
                    <span>#${pokemonId} ${capitalizeFirstLetter(pokemon.name)}</span>
                `;
                
                listItem.addEventListener('click', () => {
                    loadPokemonData(pokemon.id);
                });
                
                listElement.appendChild(listItem);
            });
            
            if (pokemonList.length === 0) {
                listElement.innerHTML = '<div class="error-message">No se encontraron Pokémon con estos filtros</div>';
            }
        }
        
        // Aplicar filtros
        async function applyFilters() {
            if (selectedTypes.length === 0) {
                filteredPokemon = [...allPokemon];
                displayPokemonList(filteredPokemon);
                return;
            }
            
            loadingIndicator.style.display = 'block';
            pokemonList.innerHTML = '';
            
            try {
                // Obtener Pokémon por cada tipo seleccionado
                const typePromises = selectedTypes.map(type => 
                    fetch(`https://pokeapi.co/api/v2/type/${type}`)
                    .then(response => response.json())
                );
                
                const typeResults = await Promise.all(typePromises);
                
                // Extraer Pokémon de cada tipo
                let pokemonByType = {};
                
                typeResults.forEach(typeData => {
                    typeData.pokemon.forEach(p => {
                        const id = getIdFromUrl(p.pokemon.url);
                        if (id <= 1025) { // Solo incluir hasta Gen 8 para mantenerlo manejable
                            if (!pokemonByType[id]) {
                                pokemonByType[id] = {
                                    id: id,
                                    name: p.pokemon.name,
                                    url: p.pokemon.url,
                                    typeCount: 1
                                };
                            } else {
                                pokemonByType[id].typeCount++;
                            }
                        }
                    });
                });
                
                // Filtrar Pokémon que tienen todos los tipos seleccionados
                if (selectedTypes.length > 1) {
                    filteredPokemon = Object.values(pokemonByType)
                        .filter(p => p.typeCount === selectedTypes.length)
                        .sort((a, b) => a.id - b.id);
                } else {
                    filteredPokemon = Object.values(pokemonByType)
                        .sort((a, b) => a.id - b.id);
                }
                
                displayPokemonList(filteredPokemon);
                
            } catch (error) {
                console.error('Error al aplicar filtros:', error);
                loadingIndicator.innerHTML = 'Error al aplicar filtros. Intenta de nuevo.';
            }
        }
        
        // Limpiar filtros
        function clearFilters() {
            document.querySelectorAll('.type-button.selected').forEach(button => {
                button.classList.remove('selected');
            });
            
            selectedTypes = [];
            filteredPokemon = [...allPokemon];
            displayPokemonList(filteredPokemon);
        }
        
        // Función para cargar datos de un Pokémon específico
        async function loadPokemonData(id) {
            try {
                currentPokemonId = id;
                
                // Mostrar carga
                pokemonName.textContent = "CARGANDO...";
                pokemonNumber.textContent = "#" + String(id).padStart(3, '0');
                pokemonImage.src = "";
                typesContainer.innerHTML = "";
                pokemonStats.innerHTML = "CARGANDO DATOS...";
                pokemonDescription.innerHTML = "";
                
                // Obtener datos del Pokémon
                const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}/`);
                const data = await response.json();
                
                // Obtener datos de la especie (para descripción)
                const speciesResponse = await fetch(data.species.url);
                const speciesData = await speciesResponse.json();
                pokemonSpecies = speciesData;
                
                // Actualizar nombre y número
                pokemonName.textContent = capitalizeFirstLetter(data.name);
                
                // Recopilar sprites disponibles
                currentSprites = [];
                
                if (data.sprites.front_default) currentSprites.push({url: data.sprites.front_default, label: 'Normal'});
                if (data.sprites.front_shiny) currentSprites.push({url: data.sprites.front_shiny, label: 'Shiny'});
                if (data.sprites.front_female) currentSprites.push({url: data.sprites.front_female, label: 'Hembra'});
                if (data.sprites.front_shiny_female) currentSprites.push({url: data.sprites.front_shiny_female, label: 'Shiny Hembra'});
                
                // También agregar sprites de generaciones anteriores si están disponibles
                const versions = data.sprites.versions;
                if (versions) {
                    // Generación 1 (Game Boy)
                    if (versions['generation-i'] && versions['generation-i']['red-blue'] && versions['generation-i']['red-blue'].front_default) {
                        currentSprites.push({
                            url: versions['generation-i']['red-blue'].front_default,
                            label: 'Gen 1 (RB)'
                        });
                    }
                    
                    // Generación 2 (Game Boy Color)
                    if (versions['generation-ii'] && versions['generation-ii'].crystal && versions['generation-ii'].crystal.front_default) {
                        currentSprites.push({
                            url: versions['generation-ii'].crystal.front_default,
                            label: 'Gen 2 (Crystal)'
                        });
                    }
                    
                    // Generación 3 (GBA)
                    if (versions['generation-iii'] && versions['generation-iii'].emerald && versions['generation-iii'].emerald.front_default) {
                        currentSprites.push({
                            url: versions['generation-iii'].emerald.front_default,
                            label: 'Gen 3 (Emerald)'
                        });
                    }
                }
                
                // Establecer sprite inicial
                currentSpriteIndex = 0;
                if (currentSprites.length > 0) {
                    pokemonImage.src = currentSprites[currentSpriteIndex].url;
                }
                
                // Mostrar tipos
                typesContainer.innerHTML = "";
                data.types.forEach(typeInfo => {
                    const typeElement = document.createElement('span');
                    typeElement.className = `type-tag ${typeInfo.type.name}`;
                    typeElement.textContent = typeTranslations[typeInfo.type.name] || capitalizeFirstLetter(typeInfo.type.name);
                    typesContainer.appendChild(typeElement);
                });
                
                // Mostrar estadísticas
                const height = (data.height / 10).toFixed(1); // convertir a metros
                const weight = (data.weight / 10).toFixed(1); // convertir a kg
                
                pokemonStats.innerHTML = `
                    ALT: ${height}m / PESO: ${weight}kg
                    <div class="generation-badge">GEN ${getGeneration(id)}</div>
                `;
                
                // Mostrar descripción (buscando en español primero, luego en inglés)
                let description = "No hay descripción disponible.";
                
                // Intentar encontrar descripción en español
                const spanishEntries = speciesData.flavor_text_entries.filter(entry => entry.language.name === "es");
                if (spanishEntries.length > 0) {
                    description = spanishEntries[0].flavor_text.replace(/\\f/g, ' ');
                } else {
                    // Si no hay en español, buscar en inglés
                    const englishEntries = speciesData.flavor_text_entries.filter(entry => entry.language.name === "en");
                    if (englishEntries.length > 0) {
                        description = englishEntries[0].flavor_text.replace(/\\f/g, ' ');
                    }
                }
                
                pokemonDescription.textContent = description;
                
            } catch (error) {
                console.error('Error al cargar datos del Pokémon:', error);
                pokemonName.textContent = "ERROR";
                pokemonStats.innerHTML = "No se pudo cargar la información.";
                pokemonDescription.textContent = "Error de conexión con la API.";
            }
        }
        
        // Función para navegar entre Pokémon
        function navigatePokemon(direction) {
            let newId = currentPokemonId + direction;
            
            // Asegurar que esté dentro del rango válido
            if (newId < 1) newId = 1025; // Volver al último si estamos en el primero
            if (newId > 1025) newId = 1; // Volver al primero si estamos en el último
            
            loadPokemonData(newId);
        }
        
        // Función para cambiar entre sprites disponibles
        function changeSprite(direction) {
            if (currentSprites.length <= 1) return;
            
            currentSpriteIndex += direction;
            
            // Asegurar que esté dentro del rango válido
            if (currentSpriteIndex < 0) currentSpriteIndex = currentSprites.length - 1;
            if (currentSpriteIndex >= currentSprites.length) currentSpriteIndex = 0;
            
            pokemonImage.src = currentSprites[currentSpriteIndex].url;
        }
        
        // Función de búsqueda
        function searchPokemon() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            const numpadValue = inputDisplay.textContent;
            
            if (searchTerm) {
                // Búsqueda por nombre
                const foundPokemon = allPokemon.find(p => p.name.toLowerCase() === searchTerm);
                if (foundPokemon) {
                    loadPokemonData(foundPokemon.id);
                    searchInput.value = ''; // Limpiar campo de búsqueda
                } else {
                    // Intentar buscar Pokémon que contengan el término
                    const matchingPokemon = allPokemon.filter(p => 
                        p.name.toLowerCase().includes(searchTerm)
                    );
                    
                    if (matchingPokemon.length > 0) {
                        // Mostrar en la lista de resultados
                        filteredPokemon = matchingPokemon;
                        displayPokemonList(filteredPokemon);
                    } else {
                        // No se encontraron resultados
                        pokemonStats.innerHTML = "No se encontró ningún Pokémon con ese nombre.";
                    }
                }
            } else if (numpadValue !== '000') {
                // Búsqueda por número (del numpad)
                const id = parseInt(numpadValue);
                if (id >= 1 && id <= 1025) {
                    loadPokemonData(id);
                    inputDisplay.textContent = '000'; // Resetear el display numérico
                }
            }
        }
        
        // Función para cargar un Pokémon aleatorio
        function loadRandomPokemon() {
            const randomId = Math.floor(Math.random() * 1025) + 1;
            loadPokemonData(randomId);
        }
        
        // Función para obtener la generación de un Pokémon por su ID
        function getGeneration(id) {
            if (id <= 151) return 1;
            if (id <= 251) return 2;
            if (id <= 386) return 3;
            if (id <= 493) return 4;
            if (id <= 649) return 5;
            if (id <= 721) return 6;
            if (id <= 809) return 7;
            if (id <= 905) return 8;
            return 9;
        }
        
        // Función para obtener el ID de un Pokémon desde su URL
        function getIdFromUrl(url) {
            const parts = url.split('/');
            return parseInt(parts[parts.length - 2]);
        }
        
        // Función para capitalizar la primera letra
        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }
        
        // Inicializar la aplicación
        document.addEventListener('DOMContentLoaded', () => {
            loadAllPokemon();
        });
        // Variables para la función flip
        document.addEventListener('DOMContentLoaded', function() {
    // Botones para voltear la pantalla
    const screenFlipButton = document.getElementById('screen-flip-button');
    const screenBackFlipButton = document.getElementById('screen-back-flip-button');
    const screenFlipContainer = document.querySelector('.screen-flip-container');
    
    if (screenFlipButton) {
        screenFlipButton.addEventListener('click', function() {
            screenFlipContainer.classList.add('flipped');
        });
    }
    
    if (screenBackFlipButton) {
        screenBackFlipButton.addEventListener('click', function() {
            screenFlipContainer.classList.remove('flipped');
        });
    }
    
    // Eliminar el código que manejaba el flip de toda la Pokédex
    // Y reemplazarlo con este código
    
    // Quitar estos elementos:
    // const flipButton = document.getElementById('flip-button');
    // const backFlipButton = document.getElementById('back-flip-button');
    // const flipContainer = document.querySelector('.flip-container');
});

// Modificar la función que carga los movimientos para incluir MT/TM
function loadPokemonMoves(pokemonId) {
    fetch(`https://pokeapi.co/api/v2/pokemon/${pokemonId}`)
        .then(response => response.json())
        .then(data => {
            // Separar movimientos por nivel y por MT/TM
            const levelMoves = [];
            const tmMoves = [];
            
            data.moves.forEach(moveData => {
                const moveName = moveData.move.name.replace('-', ' ');
                
                // Buscar detalles de aprendizaje
                moveData.version_group_details.forEach(detail => {
                    if (detail.version_group.name === 'red-blue' || detail.version_group.name === 'gold-silver') {
                        if (detail.move_learn_method.name === 'level-up') {
                            levelMoves.push({
                                name: moveName,
                                level: detail.level_learned_at
                            });
                        } else if (detail.move_learn_method.name === 'machine') {
                            // Es un movimiento por MT/TM
                            if (!tmMoves.some(m => m.name === moveName)) {
                                tmMoves.push({
                                    name: moveName
                                });
                            }
                        }
                    }
                });
            });
            
            // Ordenar movimientos por nivel
            levelMoves.sort((a, b) => a.level - b.level);
            
            // Mostrar movimientos por nivel
            const levelMovesContainer = document.getElementById('moves-level-container');
            if (levelMovesContainer) {
                if (levelMoves.length > 0) {
                    const table = document.createElement('table');
                    table.className = 'moves-table';
                    
                    const headerRow = document.createElement('tr');
                    headerRow.innerHTML = `
                        <th>Nivel</th>
                        <th>Movimiento</th>
                    `;
                    table.appendChild(headerRow);
                    
                    levelMoves.forEach(move => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${move.level}</td>
                            <td>${capitalizeFirstLetter(move.name)}</td>
                        `;
                        table.appendChild(row);
                    });
                    
                    levelMovesContainer.innerHTML = '';
                    levelMovesContainer.appendChild(table);
                } else {
                    levelMovesContainer.innerHTML = 'No hay movimientos por nivel disponibles.';
                }
            }
            
            // Mostrar movimientos por MT/TM
            const tmMovesContainer = document.getElementById('moves-tm-container');
            if (tmMovesContainer) {
                if (tmMoves.length > 0) {
                    const table = document.createElement('table');
                    table.className = 'moves-table';
                    
                    const headerRow = document.createElement('tr');
                    headerRow.innerHTML = `
                        <th>Movimiento</th>
                    `;
                    table.appendChild(headerRow);
                    
                    tmMoves.forEach(move => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${capitalizeFirstLetter(move.name)}</td>
                        `;
                        table.appendChild(row);
                    });
                    
                    tmMovesContainer.innerHTML = '';
                    tmMovesContainer.appendChild(table);
                } else {
                    tmMovesContainer.innerHTML = 'No hay movimientos por MT/TM disponibles.';
                }
            }
        })
        .catch(error => {
            console.error('Error cargando los movimientos:', error);
            document.getElementById('moves-level-container').innerHTML = 'Error cargando movimientos.';
            document.getElementById('moves-tm-container').innerHTML = 'Error cargando movimientos.';
        });
}

// Modificar la función que carga la evolución para mostrar el método
function loadEvolutionChain(pokemonId) {
    // Primero obtenemos la especie
    fetch(`https://pokeapi.co/api/v2/pokemon-species/${pokemonId}`)
        .then(response => response.json())
        .then(speciesData => {
            // Luego obtenemos la cadena de evolución
            fetch(speciesData.evolution_chain.url)
                .then(response => response.json())
                .then(evolutionData => {
                    const evolutionContainer = document.getElementById('evolution-container');
                    if (!evolutionContainer) return;
                    
                    // Construir la cadena de evolución
                    const chain = [];
                    let currentEvo = evolutionData.chain;
                    
                    // Función para obtener el método de evolución en texto
                    function getEvolutionMethod(evoDetails) {
                        if (!evoDetails || evoDetails.length === 0) return "Forma base";
                        
                        const details = evoDetails[0];
                        if (details.min_level) {
                            return `Nivel ${details.min_level}`;
                        } else if (details.item) {
                            return `Usar ${details.item.name.replace('-', ' ')}`;
                        } else if (details.trigger && details.trigger.name === 'trade') {
                            return details.held_item 
                                ? `Intercambiar con ${details.held_item.name.replace('-', ' ')}` 
                                : "Intercambiar";
                        } else if (details.happiness) {
                            return `Felicidad alta (${details.happiness})`;
                        } else if (details.trigger) {
                            return `${details.trigger.name.replace('-', ' ')}`;
                        }
                        return "Método desconocido";
                    }
                    
                    // Añadir primera forma
                    chain.push({
                        name: currentEvo.species.name,
                        url: currentEvo.species.url,
                        method: "Forma base"
                    });
                    
                    // Añadir evoluciones
                    while (currentEvo.evolves_to && currentEvo.evolves_to.length > 0) {
                        currentEvo = currentEvo.evolves_to[0];
                        chain.push({
                            name: currentEvo.species.name,
                            url: currentEvo.species.url,
                            method: getEvolutionMethod(currentEvo.evolution_details)
                        });
                    }
                    
                    // Construir la visualización
                    if (chain.length === 1) {
                        evolutionContainer.innerHTML = 'Este Pokémon no tiene evoluciones.';
                        return;
                    }
                    
                    let evolutionHtml = '<div class="evolution-chain">';
                    
                    // Para cada Pokémon en la cadena
                    chain.forEach((evo, index) => {
                        // Extraer ID del Pokémon de la URL
                        const evoId = evo.url.split('/').filter(Boolean).pop();
                        
                        evolutionHtml += `
                            <div class="evolution-item">
                                <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${evoId}.png" 
                                    class="evolution-image" alt="${evo.name}">
                                <div>${capitalizeFirstLetter(evo.name)}</div>
                                <div class="evolution-details">${evo.method}</div>
                            </div>
                        `;
                        
                        // Añadir flecha entre evoluciones
                        if (index < chain.length - 1) {
                            evolutionHtml += '<div class="evolution-arrow">→</div>';
                        }
                    });
                    
                    evolutionHtml += '</div>';
                    evolutionContainer.innerHTML = evolutionHtml;
                })
                .catch(error => {
                    console.error('Error cargando la cadena de evolución:', error);
                    document.getElementById('evolution-container').innerHTML = 'Error cargando evoluciones.';
                });
        })
        .catch(error => {
            console.error('Error cargando la especie:', error);
            document.getElementById('evolution-container').innerHTML = 'Error cargando evoluciones.';
        });
}

// Modificar la función que carga la información del Pokémon para incluir descripción
function loadPokemonInfo(pokemonId) {
    // Cargar datos del Pokémon
    fetch(`https://pokeapi.co/api/v2/pokemon/${pokemonId}`)
        .then(response => response.json())
        .then(data => {
            const infoContainer = document.getElementById('info-container');
            if (!infoContainer) return;
            
            // Actualizar la información detallada
            document.getElementById('pokemon-height').textContent = (data.height / 10).toFixed(1);
            document.getElementById('pokemon-weight').textContent = (data.weight / 10).toFixed(1);
            
            // Habilidades
            const abilities = data.abilities.map(ability => 
                capitalizeFirstLetter(ability.ability.name.replace('-', ' '))
            ).join(', ');
            document.getElementById('pokemon-abilities').textContent = abilities;
            
            // Cargar datos de la especie para la descripción
            fetch(`https://pokeapi.co/api/v2/pokemon-species/${pokemonId}`)
                .then(response => response.json())
                .then(speciesData => {
                    // Buscar descripción en español o inglés
                    let description = "No hay descripción disponible.";
                    if (speciesData.flavor_text_entries && speciesData.flavor_text_entries.length > 0) {
                        const spanishEntry = speciesData.flavor_text_entries.find(entry => entry.language.name === 'es');
                        const englishEntry = speciesData.flavor_text_entries.find(entry => entry.language.name === 'en');
                        
                        if (spanishEntry) {
                            description = spanishEntry.flavor_text;
                        } else if (englishEntry) {
                            description = englishEntry.flavor_text;
                        }
                    }
                    
                    // Actualizar descripción
                    document.getElementById('pokemon-description').textContent = description;
                    
                    // Género
                    let genderText = "Desconocido";
                    if (speciesData.gender_rate === -1) {
                        genderText = "Sin género";
                    } else if (speciesData.gender_rate === 0) {
                        genderText = "100% ♂";
                    } else if (speciesData.gender_rate === 8) {
                        genderText = "100% ♀";
                    } else {
                        const femalePercentage = (speciesData.gender_rate / 8) * 100;
                        const malePercentage = 100 - femalePercentage;
                        genderText = `${malePercentage}% ♂, ${femalePercentage}% ♀`;
                    }
                    document.getElementById('pokemon-gender').textContent = genderText;
                    
                    // Categoría
                    if (speciesData.genera && speciesData.genera.length > 0) {
                        const spanishGenus = speciesData.genera.find(genus => genus.language.name === 'es');
                        const englishGenus = speciesData.genera.find(genus => genus.language.name === 'en');
                        
                        if (spanishGenus) {
                            document.getElementById('pokemon-category').textContent = spanishGenus.genus;
                        } else if (englishGenus) {
                            document.getElementById('pokemon-category').textContent = englishGenus.genus;
                        } else {
                            document.getElementById('pokemon-category').textContent = "Desconocido";
                        }
                    }
                    
                    // Generación
                    if (speciesData.generation) {
                        document.getElementById('pokemon-generation').textContent = 
                            speciesData.generation.name.replace('-', ' ').toUpperCase();
                    }
                })
                .catch(error => {
                    console.error('Error cargando información de especie:', error);
                    document.getElementById('pokemon-description').textContent = 'Error cargando descripción.';
                });
        })
        .catch(error => {
            console.error('Error cargando información:', error);
            infoContainer.innerHTML = 'Error cargando información.';
        });
}
</script>